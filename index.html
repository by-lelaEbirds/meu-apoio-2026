<!DOCTYPE html>
<html class="dark" lang="pt-BR">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
    <title>Meu Apoio 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#0f172a",
                        "primary-light": "#1e293b",
                        "accent-cyan": "#06b6d4",
                        "accent-blue": "#3b82f6",
                        "text-light": "#f8fafc",
                        "text-muted": "#94a3b8",
                        "surface-dark": "#1e293b",
                    },
                    fontFamily: {
                        "display": ["Public Sans", "sans-serif"]
                    },
                    boxShadow: {
                        'card': '0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.15)',
                        'glow': '0 0 20px rgba(6, 182, 212, 0.15)',
                    }
                },
            },
        }
    </script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="relative flex min-h-screen w-full flex-col bg-primary font-display text-text-light pb-safe overflow-x-hidden selection:bg-accent-cyan selection:text-primary">
    
    <header class="sticky top-0 z-40 w-full bg-primary/95 backdrop-blur-md border-b border-white/5 shadow-sm">
        <div class="flex items-center justify-between p-4 pb-2">
            <div class="flex items-center gap-3">
                <div class="flex items-center justify-center size-10 rounded-lg bg-gradient-to-br from-accent-blue to-accent-cyan text-white shadow-lg shadow-accent-blue/20">
                    <span class="material-symbols-outlined text-[24px]">how_to_vote</span>
                </div>
                <div>
                    <h1 class="text-lg font-bold leading-none tracking-tight text-white">Meu Apoio 2026</h1>
                    <span class="text-xs font-medium text-text-muted">Editor Oficial</span>
                </div>
            </div>
        </div>
        <div class="px-4 pb-4">
            <div class="flex items-center justify-between mb-2">
                <span id="step-label" class="text-xs font-bold uppercase tracking-wider text-accent-cyan">Passo 1 de 3</span>
                <span id="step-title" class="text-xs font-medium text-text-muted">Seleção</span>
            </div>
            <div class="h-1.5 w-full bg-slate-800 rounded-full overflow-hidden">
                <div id="progress-bar" class="h-full bg-gradient-to-r from-accent-blue to-accent-cyan w-1/3 rounded-full shadow-[0_0_10px_rgba(6,182,212,0.5)] transition-all duration-500 ease-out"></div>
            </div>
        </div>
    </header>

    <main class="flex-1 w-full max-w-md mx-auto md:max-w-3xl relative">
        
        <section id="step-1" class="step-section px-5 pt-6 pb-20">
            <div class="mb-6">
                <h2 class="text-2xl font-bold leading-tight text-white tracking-tight">Escolha seu Candidato</h2>
                <p class="text-text-muted text-sm mt-1">Selecione o político que você deseja apoiar.</p>
            </div>
            
            <div class="mb-6 sticky top-[130px] z-30 bg-primary/95 backdrop-blur-sm py-2">
                <label class="relative flex w-full items-center">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none text-text-muted">
                        <span class="material-symbols-outlined">search</span>
                    </div>
                    <input id="search-input" class="block w-full rounded-xl border-0 py-3.5 pl-11 pr-4 text-white bg-surface-dark shadow-lg ring-1 ring-white/5 placeholder:text-text-muted focus:ring-2 focus:ring-accent-cyan focus:outline-none transition-all" placeholder="Buscar candidato..." type="text"/>
                </label>
            </div>

            <div id="template-grid" class="grid grid-cols-2 gap-4 pb-8">
                </div>
        </section>

        <section id="step-2" class="step-section hidden px-5 pt-6 pb-20">
            <button onclick="changeStep(1)" class="flex items-center text-text-muted hover:text-white mb-6 transition-colors group">
                <span class="material-symbols-outlined text-sm mr-1 group-hover:-translate-x-1 transition-transform">arrow_back</span> Voltar
            </button>
            <div class="mb-6">
                <h2 class="text-2xl font-bold leading-tight text-white tracking-tight">Sua Foto</h2>
                <p class="text-text-muted text-sm mt-1">Escolha uma foto clara e centralizada.</p>
            </div>

            <div class="w-full aspect-square bg-surface-dark rounded-2xl border-2 border-dashed border-white/10 flex flex-col items-center justify-center overflow-hidden relative shadow-card group hover:border-accent-cyan/50 transition-colors">
                <img id="preview-img" class="absolute inset-0 w-full h-full object-cover hidden" alt="Preview">
                <div id="upload-placeholder" class="flex flex-col items-center text-text-muted group-hover:text-accent-cyan transition-colors">
                    <span class="material-symbols-outlined text-5xl mb-2">add_a_photo</span>
                    <span class="text-sm font-medium">Nenhuma foto selecionada</span>
                </div>
            </div>

            <label class="mt-6 flex items-center justify-center gap-2 w-full bg-surface-dark border border-white/10 text-white p-4 rounded-xl cursor-pointer hover:bg-surface-dark/80 transition-all active:scale-95 shadow-lg ring-1 ring-white/5">
                <span class="material-symbols-outlined">image</span>
                <span class="font-bold">Abrir Galeria</span>
                <input type="file" id="file-input" accept="image/*" class="hidden">
            </label>
        </section>

        <section id="step-3" class="step-section hidden px-5 pt-6 pb-20">
            <button onclick="changeStep(1)" class="flex items-center text-text-muted hover:text-white mb-6 transition-colors group">
                <span class="material-symbols-outlined text-sm mr-1 group-hover:rotate-180 transition-transform">restart_alt</span> Criar Novo
            </button>
            <div class="mb-6">
                <h2 class="text-2xl font-bold leading-tight text-white tracking-tight">Pronto!</h2>
                <p class="text-text-muted text-sm mt-1">Sua imagem oficial foi gerada.</p>
            </div>

            <div class="rounded-xl overflow-hidden shadow-glow border border-white/10 mb-6 bg-surface-dark">
                <img id="final-result" class="w-full h-auto block" alt="Resultado Final">
            </div>
            <canvas id="canvas-processor" class="hidden"></canvas>

            <div class="grid gap-3">
                <button onclick="downloadImage()" class="flex items-center justify-center gap-2 bg-gradient-to-r from-accent-blue to-accent-cyan text-white p-4 rounded-xl font-bold shadow-lg shadow-accent-cyan/20 hover:shadow-accent-cyan/40 active:scale-[0.98] transition-all">
                    <span class="material-symbols-outlined">download</span> Baixar Imagem
                </button>
                <button onclick="shareImage()" class="flex items-center justify-center gap-2 bg-[#25D366] text-white p-4 rounded-xl font-bold shadow-lg hover:bg-[#20bd5a] active:scale-[0.98] transition-all">
                    <span class="material-symbols-outlined">share</span> Enviar no WhatsApp
                </button>
            </div>
        </section>

    </main>
    <script src="script.js"></script>
</body>
</html>